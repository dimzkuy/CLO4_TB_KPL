<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilih Jadwal - CinemaBook</title>
    <link rel="stylesheet" href="../styles/style.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-icon">üé¨</span>
                CinemaBook
            </div>
            <div class="navbar-user">
                <div class="user-icon" id="userInitial">U</div>
                <div class="username" id="usernameDisplay">Username</div>
                <button class="logout-btn" id="logoutBtn" onclick="handleLogout()">
                    Logout
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Back Button -->
        <div class="back-navigation">
            <button onclick="goBack()" class="back-btn">
                ‚Üê Kembali ke Pilih Film
            </button>
        </div>

        <!-- Selected Movie Info -->
        <div class="selected-movie-info" id="selectedMovieInfo">
            <h2 id="filmTitle">Loading...</h2>
        </div>

        <!-- Header Section -->
        <div class="schedule-header">
            <h1 class="schedule-title">Pilih Jadwal Tayang</h1>
            <p class="schedule-subtitle">Pilih tanggal dan waktu yang sesuai untuk menonton</p>
        </div>

        <!-- Date Selection -->
        <div class="date-selector">
            <h3 class="date-title">Pilih Tanggal</h3>
            <div class="date-container" id="dateContainer">
                <!-- Dates will be populated by JavaScript -->
            </div>
        </div>

        <!-- Movie Schedule -->
        <div class="schedule-container" id="scheduleContainer">
            <!-- Movie schedules will be populated by JavaScript -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="../scripts/SessionManager.js"></script>
    <script src="../scripts/NotificationManager.js"></script>
    <script src="../scripts/logout.js"></script>
    <script>
        // Debug information
        console.log('Selected film from localStorage:', localStorage.getItem('filmDipilih'));
        
        // Check if film is selected
        const selectedFilm = localStorage.getItem('filmDipilih');
        if (!selectedFilm) {
            console.error('No film selected, redirecting to home');
            window.location.href = 'home.html';
        }
    </script>
    <script src="../scripts/jadwal.js"></script>
</body>
</html>